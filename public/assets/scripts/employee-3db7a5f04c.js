{function addListenerToDeleteLink(e){$(e).click((function(e){e.preventDefault(),$.ajax({type:"GET",url:$(e.currentTarget).attr("href"),success:function({data:e}){e.logout&&(window.location.href="/"),$(`#employee-${e.deletedEmployeeID}`).remove(),notifyMsg("success","Employee and their feedbacks removed !!")},error:function(e){notifyMsg("error",e.responseJSON.message)}})}))}$(".add-employee-btn").on("click",(e=>{e.preventDefault(),$.ajax({type:"GET",url:$(e.target).attr("href"),success:function({data:e}){$(`#user-${e.userID}`).remove(),notifyMsg("success","Employee added !!")},error:function(e){console.log(e),notifyMsg("error",e.responseText)}})})),$(".remove-employee-btn").each(((e,n)=>addListenerToDeleteLink(n))),$(".employees-container").on("submit",$(".employee-update-form"),(function(e){e.preventDefault(),$.ajax({type:"POST",url:$(e.target).attr("action"),data:$(e.target).serialize(),success:function({data:e}){e.logout&&(window.location.href="/");const n=e.updatedEmployee,t=`<div class="card" id="employee-${n._id}">\n          <div class="card-heading">\n            <h2>Employee</h2>\n            <a\n              href="/employee/remove/${n._id}"\n              class="remove-employee-btn"\n            >\n              <i class="fa-solid fa-trash"></i>\n            </a>\n          </div>\n          <div class="card-content">\n            <form\n              action="/employee/update/${n._id}"\n              method="POST"\n              class="employee-update-form"\n            >\n              <div>\n                <label for="email">Email</label>\n                <input\n                  type="email"\n                  name="email"\n                  id="email"\n                  placeholder="${n.user.email}"\n                />\n              </div>\n              <div>\n                <label for="firstname">Firstname</label>\n                <input\n                  type="text"\n                  name="firstname"\n                  id="firstname"\n                  placeholder="${n.user.firstname}"\n                />\n              </div>\n              <div>\n                <label for="astname">Lastname</label>\n                <input\n                  type="text"\n                  name="lastname"\n                  id="lastname"\n                  placeholder="${n.user.lastname}"\n                />\n              </div>\n              <div>\n            <span>Is Admin</span>\n            <label class="switch">\n              <input type="checkbox" name="isAdmin" ${n.isAdmin?"checked":""} />\n              <span class="slider round"></span>\n            </label>\n          </div>\n              <button type="submit">Update</button>\n            </form>\n          </div>\n        </div>`;$(`#employee-${n._id}`).replaceWith(t),addListenerToDeleteLink($(`#employee-${n._id}`).find(".remove-employee-btn")[0]),notifyMsg("success","Employee updated !!")},error:function(e){notifyMsg("error",e.responseJSON.message)}})})),notifyMsg=function(e,n){new Noty({theme:"relax",text:n,type:e,layout:"topRight",timeout:1500}).show()}}